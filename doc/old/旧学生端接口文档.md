**å­¦ç”Ÿç«¯æ¥å£æ–‡æ¡£**

**ğŸ§  AI é—®ç­”åŠŸèƒ½æ¥å£æ–‡æ¡£ï¼ˆä¼šè¯ç®¡ç†ï¼‰**

  --------------------------------------------------------------
  **é€‚ç”¨æ¨¡å—**ï¼šå­¦ç”Ÿä¸å¤§æ¨¡å‹æ™ºèƒ½é—®ç­”\
  **æ¥å£å‰ç¼€**ï¼š/api/student/chat\
  **è®¤è¯æ–¹å¼**ï¼šJWT Tokenï¼ˆè¯·æ±‚å¤´ Authorization: Bearer
  \<token\>ï¼‰\
  **è¯´æ˜**ï¼šæ‰€æœ‰æ¥å£ä¸­çš„ username å‡ç”±åç«¯ä» Token
  ä¸­è‡ªåŠ¨è§£æï¼Œ**å‰ç«¯æ— éœ€ä¼ é€’**

  --------------------------------------------------------------

**ğŸ”¹ æ¥å£æ¦‚è§ˆ**

| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|---|---|---|---|
| æ–°å»ºä¼šè¯ | POST | /session | åˆ›å»ºç©ºä¼šè¯ï¼Œè¿”å› sessionId |
| è·å–ä¼šè¯åˆ—è¡¨ | GET | /sessions | ç”¨äºå·¦ä¾§å†å²ä¼šè¯å±•ç¤º |
| è·å–ä¼šè¯è¯¦æƒ… | GET | /session/{sessionId} | ç‚¹å‡»å·¦ä¾§é¡¹ååŠ è½½å®Œæ•´èŠå¤©è®°å½• |
| å‘é€æ¶ˆæ¯ | POST | /session/{sessionId}/message | å‘æŒ‡å®šä¼šè¯å‘é€ç”¨æˆ·é—®é¢˜ |
| åˆ é™¤ä¼šè¯ | DELETE | /session/{sessionId} | è½¯åˆ é™¤æŸæ¡å†å²ä¼šè¯ |

**ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹å®Œæ•´ç”µå­è¡¨æ ¼**

**1ï¸âƒ£ æ–°å»ºä¼šè¯**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  POST /api/student/chat/session

  --------------------------------------------------------------

**è¯·æ±‚ä½“**

  --------------------------------------------------------------
  JSON\
  {}

  --------------------------------------------------------------

  --------------------------------------------------------------
  æ— å‚æ•°ï¼Œusername ç”±åç«¯è‡ªåŠ¨è·å–ã€‚

  --------------------------------------------------------------

**æˆåŠŸå“åº”ï¼ˆ201ï¼‰**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 201,\
  \"message\": \"ä¼šè¯åˆ›å»ºæˆåŠŸ\",\
  \"data\": {\
  \"sessionId\": \"sess_abc123\",\
  \"username\": \"zhangsan\",\
  \"createdAt\": \"2025-11-05T21:00:00\"\
  }\
  }

  --------------------------------------------------------------

  --------------------------------------------------------------
  âœ… å‰ç«¯æ‹¿åˆ° sessionId åï¼Œè·³è½¬è‡³èŠå¤©é¡µé¢ï¼š/chat/sess_abc123

  --------------------------------------------------------------

**2ï¸âƒ£ è·å–ä¼šè¯åˆ—è¡¨ï¼ˆå·¦ä¾§å±•ç¤ºï¼‰**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  GET /api/student/chat/sessions?page=1&size=20

  --------------------------------------------------------------

**æŸ¥è¯¢å‚æ•°**

| å‚æ•° | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|---|---|---|---|---|
| page | int | å¦ | 1 | é¡µç  |
| size | int | å¦ | 20 | æ¯é¡µæ•°é‡ |

**ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹å®Œæ•´ç”µå­è¡¨æ ¼**

**æˆåŠŸå“åº”ï¼ˆ200ï¼‰**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"total\": 3,\
  \"list\": \[\
  {\
  \"sessionId\": \"sess_abc123\",\
  \"title\": \"ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ\",\
  \"lastMessageTime\": \"2025-11-05T21:05:00\",\
  \"messageCount\": 4\
  },\
  {\
  \"sessionId\": \"sess_def456\",\
  \"title\": \"å¿«é€Ÿæ’åºæ€ä¹ˆå†™ï¼Ÿ\",\
  \"lastMessageTime\": \"2025-11-04T18:30:00\",\
  \"messageCount\": 6\
  }\
  \],\
  \"pageNum\": 1,\
  \"pageSize\": 20\
  }\
  }

  --------------------------------------------------------------

  --------------------------------------------------------------
  ğŸ’¡ **æ ‡é¢˜ç”Ÿæˆè§„åˆ™**ï¼šå–è¯¥ä¼šè¯ä¸­ç¬¬ä¸€æ¡ç”¨æˆ·æ¶ˆæ¯çš„å‰ 20
  ä¸ªå­—ç¬¦ï¼›è‹¥æ— æ¶ˆæ¯ï¼Œæ˜¾ç¤º"æ–°å»ºå¯¹è¯"ã€‚

  --------------------------------------------------------------

**3ï¸âƒ£ è·å–ä¼šè¯è¯¦æƒ…ï¼ˆç‚¹å‡»å·¦ä¾§é¡¹æ—¶è°ƒç”¨ï¼‰**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  GET /api/student/chat/session/{sessionId}

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

| å‚æ•° | è¯´æ˜ |
|---|---|
| sessionId | ä»ä¼šè¯åˆ—è¡¨ä¸­è·å–çš„ä¼šè¯ ID |

**ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹å®Œæ•´ç”µå­è¡¨æ ¼**

**æˆåŠŸå“åº”ï¼ˆ200ï¼‰**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"sessionId\": \"sess_abc123\",\
  \"title\": \"ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ\",\
  \"messages\": \[\
  {\
  \"role\": \"user\",\
  \"content\": \"ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ\",\
  \"timestamp\": \"2025-11-05T21:01:00\"\
  },\
  {\
  \"role\": \"ai\",\
  \"content\": \"é€’å½’æ˜¯æŒ‡å‡½æ•°è°ƒç”¨è‡ªèº«......\",\
  \"sources\": \[\
  { \"title\": \"é€’å½’åŸºç¡€\", \"similarity\": 0.92 }\
  \],\
  \"timestamp\": \"2025-11-05T21:01:05\"\
  }\
  \]\
  }\
  }

  --------------------------------------------------------------

  --------------------------------------------------------------
  âœ… å‰ç«¯åœ¨ç”¨æˆ·ç‚¹å‡»å·¦ä¾§æŸä¼šè¯é¡¹æ—¶ï¼Œä»è¯¥é¡¹æ•°æ®ä¸­å–å‡º
  sessionIdï¼Œå‘èµ·æ­¤è¯·æ±‚ã€‚

  --------------------------------------------------------------

**4ï¸âƒ£ å‘ä¼šè¯å‘é€æ¶ˆæ¯**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  POST /api/student/chat/session/{sessionId}/message

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

| å‚æ•° | è¯´æ˜ |
|---|---|
| sessionId | ç›®æ ‡ä¼šè¯ IDï¼ˆæ¥è‡ª URL æˆ–çŠ¶æ€ï¼‰ |

**ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹å®Œæ•´ç”µå­è¡¨æ ¼**

**è¯·æ±‚ä½“**

  --------------------------------------------------------------
  JSON\
  {\
  \"message\": \"é€’å½’ä¼šå¯¼è‡´æ ˆæº¢å‡ºå—ï¼Ÿ\"\
  }

  --------------------------------------------------------------

**æˆåŠŸå“åº”ï¼ˆ200ï¼‰**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"userMessage\": \"é€’å½’ä¼šå¯¼è‡´æ ˆæº¢å‡ºå—ï¼Ÿ\",\
  \"aiResponse\": \"æ˜¯çš„ï¼Œå¦‚æœé€’å½’æ·±åº¦è¿‡å¤§......\",\
  \"timestamp\": \"2025-11-05T21:10:00\",\
  \"sources\": \[\
  { \"title\": \"é€’å½’ä¸å†…å­˜ç®¡ç†\", \"similarity\": 0.89 }\
  \]\
  }\
  }

  --------------------------------------------------------------

**5ï¸âƒ£ åˆ é™¤ä¼šè¯**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  DELETE /api/student/chat/session/{sessionId}

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

| å‚æ•° | è¯´æ˜ |
|---|---|
| sessionId | è¦åˆ é™¤çš„ä¼šè¯ ID |

**ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹å®Œæ•´ç”µå­è¡¨æ ¼**

**æˆåŠŸå“åº”ï¼ˆ200ï¼‰**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"ä¼šè¯å·²åˆ é™¤\"\
  }

  --------------------------------------------------------------

  -----------------------------------------------------------------------
  âš ï¸
  **å®‰å…¨è¦æ±‚**ï¼šåç«¯å¿…é¡»æ ¡éªŒè¯¥ä¼šè¯æ˜¯å¦å±äºå½“å‰ç™»å½•å­¦ç”Ÿï¼Œé˜²æ­¢è¶Šæƒåˆ é™¤ã€‚\
  ğŸ—‘ï¸ **å»ºè®®**ï¼šä½¿ç”¨è½¯åˆ é™¤ï¼ˆæ•°æ®åº“å­—æ®µ is_deleted = 1ï¼‰ï¼Œä¿ç•™æ•°æ®å¯æ¢å¤ã€‚

  -----------------------------------------------------------------------

**ğŸ”„ å‰ç«¯äº¤äº’æµç¨‹**

**è¿›å…¥é—®ç­”é¡µ** â†’ è°ƒç”¨ GET /sessions â†’ æ¸²æŸ“å·¦ä¾§åˆ—è¡¨

**ç‚¹å‡»"+ æ–°å»ºå¯¹è¯"** â†’ è°ƒç”¨ POST /session â†’ è·³è½¬åˆ° /chat/{sessionId}

**ç‚¹å‡»å·¦ä¾§æŸä¼šè¯** â†’ ä»åˆ—è¡¨é¡¹ä¸­å–å‡º sessionId â†’ è°ƒç”¨ GET
/session/{sessionId} åŠ è½½æ¶ˆæ¯

**å‘é€æ¶ˆæ¯** â†’ è°ƒç”¨ POST /session/{sessionId}/message

**åˆ é™¤ä¼šè¯** â†’ è°ƒç”¨ DELETE /session/{sessionId} â†’ åˆ·æ–°å·¦ä¾§åˆ—è¡¨

  --------------------------------------------------------------
  âœ… **å®‰å…¨æé†’**ï¼šæ‰€æœ‰æ¶‰åŠ sessionId çš„æ¥å£ï¼Œåç«¯å¿…é¡»éªŒè¯
  session.student_id == å½“å‰ç”¨æˆ· studentIdã€‚

  --------------------------------------------------------------

**åšé¢˜ä¸çº é”™åŠŸèƒ½æ¥å£æ–‡æ¡£**

**ğŸ“‹ åŠŸèƒ½æ¦‚è¿°**

å­¦ç”Ÿåšé¢˜ã€æŸ¥çœ‹ç­”æ¡ˆè§£æã€é”™é¢˜ç®¡ç†ã€åšé¢˜è®°å½•å›é¡¾ç­‰åŠŸèƒ½

**æ¥å£å‰ç¼€ï¼š** /api/student/exercise

**è®¤è¯æ–¹å¼ï¼š** JWT Tokenï¼ˆè¯·æ±‚å¤´ Authorization: Bearer \<token\>ï¼‰

**è¯´æ˜ï¼š** æ‰€æœ‰æ¥å£ä¸­çš„ username å‡ç”±åç«¯ä» Token
ä¸­è‡ªåŠ¨è§£æï¼Œå‰ç«¯æ— éœ€ä¼ é€’

**ğŸ”¹ æ¥å£æ¦‚è§ˆ**

  --------------- --------------- ---------------------------------------------------- ------------------
  åŠŸèƒ½æ¨¡å—        æ¥å£æ–¹æ³•        æ¥å£åœ°å€                                             è¯´æ˜

  è·å–é¢˜ç›®        GET             /api/student/exercise/questions                      è·å–ç»ƒä¹ é¢˜åˆ—è¡¨

  æäº¤ç­”æ¡ˆ        POST            /api/student/exercise/submit                         æäº¤é¢˜ç›®ç­”æ¡ˆ

  æŸ¥çœ‹è§£æ        GET             /api/student/exercise/{recordId}/analysis            æŸ¥çœ‹é¢˜ç›®ç­”æ¡ˆè§£æ

  é”™é¢˜åˆ—è¡¨        GET             /api/student/exercise/wrong-questions                è·å–é”™é¢˜æœ¬

  åšé¢˜è®°å½•        GET             /api/student/exercise/records                        æŸ¥çœ‹å†å²åšé¢˜è®°å½•

  åˆ é™¤é”™é¢˜        DELETE          /api/student/exercise/wrong-questions/{questionId}   ä»é”™é¢˜æœ¬ç§»é™¤
  --------------- --------------- ---------------------------------------------------- ------------------

**1ï¸âƒ£ è·å–ç»ƒä¹ é¢˜åˆ—è¡¨**

**è¯·æ±‚**

  -------------------------------------------------------------------------------
  Plain Text\
  GET
  /api/student/exercise/questions?subject=æ•°å­¦&difficulty=medium&page=1&size=10

  -------------------------------------------------------------------------------

**æŸ¥è¯¢å‚æ•°**

  ------------ ------------ ------------ ------------------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜                     ç¤ºä¾‹å€¼

  subject      string       å¦           ç§‘ç›®ç­›é€‰                 \"æ•°å­¦\"

  difficulty   string       å¦           éš¾åº¦ï¼šeasy/medium/hard   \"medium\"

  page         int          å¦           é¡µç ï¼Œé»˜è®¤1              1

  size         int          å¦           æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10         10
  ------------ ------------ ------------ ------------------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"total\": 45,\
  \"list\": \[\
  {\
  \"questionId\": \"q_001\",\
  \"subject\": \"æ•°å­¦\",\
  \"type\": \"single_choice\",\
  \"difficulty\": \"medium\",\
  \"content\": \"å·²çŸ¥å‡½æ•° f(x) = xÂ² + 2x + 1ï¼Œæ±‚ f(2) çš„å€¼\",\
  \"options\": \[\
  {\"key\": \"A\", \"content\": \"5\"},\
  {\"key\": \"B\", \"content\": \"7\"},\
  {\"key\": \"C\", \"content\": \"9\"},\
  {\"key\": \"D\", \"content\": \"11\"}\
  \],\
  \"knowledgePoints\": \[\"å‡½æ•°æ±‚å€¼\", \"äºŒæ¬¡å‡½æ•°\"\]\
  },\
  {\
  \"questionId\": \"q_002\",\
  \"subject\": \"æ•°å­¦\",\
  \"type\": \"multiple_choice\",\
  \"difficulty\": \"hard\",\
  \"content\": \"ä¸‹åˆ—å“ªäº›æ˜¯è´¨æ•°ï¼Ÿ\",\
  \"options\": \[\
  {\"key\": \"A\", \"content\": \"2\"},\
  {\"key\": \"B\", \"content\": \"4\"},\
  {\"key\": \"C\", \"content\": \"7\"},\
  {\"key\": \"D\", \"content\": \"9\"}\
  \],\
  \"knowledgePoints\": \[\"è´¨æ•°\", \"æ•´æ•°æ€§è´¨\"\]\
  }\
  \],\
  \"pageNum\": 1,\
  \"pageSize\": 10\
  }\
  }

  --------------------------------------------------------------

**2ï¸âƒ£ æäº¤é¢˜ç›®ç­”æ¡ˆ**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  POST /api/student/exercise/submit

  --------------------------------------------------------------

**è¯·æ±‚ä½“**

  --------------------------------------------------------------
  JSON\
  {\
  \"answers\": \[\
  {\
  \"questionId\": \"q_001\",\
  \"userAnswer\": \"C\"\
  },\
  {\
  \"questionId\": \"q_002\",\
  \"userAnswer\": \"A,C\"\
  }\
  \]\
  }

  --------------------------------------------------------------

**å‚æ•°è¯´æ˜**

  ------------ ------------ ------------ ------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  answers      array        æ˜¯           ç­”æ¡ˆåˆ—è¡¨     \-

  â”” questionId string       æ˜¯           é¢˜ç›®ID       \"q_001\"

  â”” userAnswer string       æ˜¯           ç”¨æˆ·ç­”æ¡ˆ     \"C\" æˆ–
                                                      \"A,C\"
  ------------ ------------ ------------ ------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"æäº¤æˆåŠŸ\",\
  \"data\": {\
  \"recordId\": \"rec_123456\",\
  \"submitTime\": \"2025-11-05T22:30:00\",\
  \"results\": \[\
  {\
  \"questionId\": \"q_001\",\
  \"isCorrect\": false,\
  \"correctAnswer\": \"C\",\
  \"userAnswer\": \"B\",\
  \"score\": 0\
  },\
  {\
  \"questionId\": \"q_002\",\
  \"isCorrect\": true,\
  \"correctAnswer\": \"A,C\",\
  \"userAnswer\": \"A,C\",\
  \"score\": 5\
  }\
  \],\
  \"totalScore\": 5,\
  \"correctCount\": 1,\
  \"totalCount\": 2\
  }\
  }

  --------------------------------------------------------------

**3ï¸âƒ£ æŸ¥çœ‹é¢˜ç›®ç­”æ¡ˆè§£æ**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  GET /api/student/exercise/{recordId}/analysis

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

  ------------ ------------ ------------ ------------ ----------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  recordId     string       æ˜¯           ç­”é¢˜è®°å½•ID   \"rec_123456\"
  ------------ ------------ ------------ ------------ ----------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"recordId\": \"rec_123456\",\
  \"submitTime\": \"2025-11-05T22:30:00\",\
  \"questions\": \[\
  {\
  \"questionId\": \"q_001\",\
  \"content\": \"å·²çŸ¥å‡½æ•° f(x) = xÂ² + 2x + 1ï¼Œæ±‚ f(2) çš„å€¼\",\
  \"options\": \[\
  {\"key\": \"A\", \"content\": \"5\"},\
  {\"key\": \"B\", \"content\": \"7\"},\
  {\"key\": \"C\", \"content\": \"9\"},\
  {\"key\": \"D\", \"content\": \"11\"}\
  \],\
  \"userAnswer\": \"B\",\
  \"correctAnswer\": \"C\",\
  \"isCorrect\": false,\
  \"analysis\": \"å°† x=2 ä»£å…¥å‡½æ•°ï¼šf(2) = 2Â² + 2Ã—2 + 1 = 4 + 4 +
  1 = 9ï¼Œæ‰€ä»¥æ­£ç¡®ç­”æ¡ˆæ˜¯ C\",\
  \"knowledgePoints\": \[\"å‡½æ•°æ±‚å€¼\", \"äºŒæ¬¡å‡½æ•°\"\],\
  \"teacherSuggestion\":
  \"æ³¨æ„å‡½æ•°ä»£å…¥è®¡ç®—çš„é¡ºåºï¼Œå…ˆå¹³æ–¹å†ä¹˜æ³•æœ€ååŠ æ³•\"\
  }\
  \]\
  }\
  }

  --------------------------------------------------------------

**4ï¸âƒ£ è·å–é”™é¢˜æœ¬åˆ—è¡¨**

**è¯·æ±‚**

  -------------------------------------------------------------------
  Plain Text\
  GET
  /api/student/exercise/wrong-questions?subject=æ•°å­¦&page=1&size=20

  -------------------------------------------------------------------

**æŸ¥è¯¢å‚æ•°**

  ------------ ------------ ------------ ------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  subject      string       å¦           ç§‘ç›®ç­›é€‰     \"æ•°å­¦\"

  page         int          å¦           é¡µç          1

  size         int          å¦           æ¯é¡µæ•°é‡     20
  ------------ ------------ ------------ ------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"total\": 15,\
  \"list\": \[\
  {\
  \"questionId\": \"q_001\",\
  \"subject\": \"æ•°å­¦\",\
  \"content\": \"å·²çŸ¥å‡½æ•° f(x) = xÂ² + 2x + 1ï¼Œæ±‚ f(2) çš„å€¼\",\
  \"wrongCount\": 3,\
  \"lastWrongTime\": \"2025-11-05T22:30:00\",\
  \"knowledgePoints\": \[\"å‡½æ•°æ±‚å€¼\", \"äºŒæ¬¡å‡½æ•°\"\],\
  \"teacherSuggestion\": \"æ³¨æ„å‡½æ•°ä»£å…¥è®¡ç®—çš„é¡ºåº\"\
  },\
  {\
  \"questionId\": \"q_003\",\
  \"subject\": \"ç‰©ç†\",\
  \"content\": \"ç‰›é¡¿ç¬¬äºŒå®šå¾‹çš„å…¬å¼æ˜¯ï¼Ÿ\",\
  \"wrongCount\": 2,\
  \"lastWrongTime\": \"2025-11-04T15:20:00\",\
  \"knowledgePoints\": \[\"ç‰›é¡¿å®šå¾‹\", \"åŠ›å­¦\"\],\
  \"teacherSuggestion\": \"ç‰¢è®° F=ma å…¬å¼\"\
  }\
  \],\
  \"pageNum\": 1,\
  \"pageSize\": 20\
  }\
  }

  --------------------------------------------------------------

**5ï¸âƒ£ æŸ¥çœ‹åšé¢˜è®°å½•**

**è¯·æ±‚**

  --------------------------------------------------------------------------------------
  Plain Text\
  GET
  /api/student/exercise/records?startDate=2025-11-01&endDate=2025-11-05&page=1&size=15

  --------------------------------------------------------------------------------------

**æŸ¥è¯¢å‚æ•°**

  ------------ ------------ ------------ ------------ ----------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  startDate    string       å¦           å¼€å§‹æ—¥æœŸ     \"2025-11-01\"

  endDate      string       å¦           ç»“æŸæ—¥æœŸ     \"2025-11-05\"

  page         int          å¦           é¡µç          1

  size         int          å¦           æ¯é¡µæ•°é‡     15
  ------------ ------------ ------------ ------------ ----------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"total\": 28,\
  \"list\": \[\
  {\
  \"recordId\": \"rec_123456\",\
  \"submitTime\": \"2025-11-05T22:30:00\",\
  \"totalQuestions\": 10,\
  \"correctCount\": 7,\
  \"totalScore\": 35,\
  \"timeSpent\": 1200,\
  \"subject\": \"æ•°å­¦\"\
  },\
  {\
  \"recordId\": \"rec_123457\",\
  \"submitTime\": \"2025-11-04T20:15:00\",\
  \"totalQuestions\": 8,\
  \"correctCount\": 6,\
  \"totalScore\": 30,\
  \"timeSpent\": 960,\
  \"subject\": \"ç‰©ç†\"\
  }\
  \],\
  \"pageNum\": 1,\
  \"pageSize\": 15\
  }\
  }

  --------------------------------------------------------------

**6ï¸âƒ£ ä»é”™é¢˜æœ¬ç§»é™¤é¢˜ç›®**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  DELETE /api/student/exercise/wrong-questions/{questionId}

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

  ------------ ------------ ------------ ------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  questionId   string       æ˜¯           é¢˜ç›®ID       \"q_001\"
  ------------ ------------ ------------ ------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"å·²ä»é”™é¢˜æœ¬ç§»é™¤\",\
  \"data\": null\
  }

  --------------------------------------------------------------

**ğŸ”„ å‰ç«¯äº¤äº’æµç¨‹**

**åšé¢˜é¡µé¢**

è¿›å…¥é¡µé¢ â†’ è°ƒç”¨ GET /questions â†’ æ¸²æŸ“é¢˜ç›®åˆ—è¡¨

ç”¨æˆ·ç­”é¢˜ â†’ æ”¶é›†ç­”æ¡ˆæ•°æ® â†’ è°ƒç”¨ POST /submit â†’ æ˜¾ç¤ºç­”é¢˜ç»“æœ

æŸ¥çœ‹è§£æ â†’ ç‚¹å‡»æŸ¥çœ‹è§£æ â†’ è°ƒç”¨ GET /{recordId}/analysis â†’ æ˜¾ç¤ºè¯¦ç»†è§£æ

**é”™é¢˜æœ¬é¡µé¢**

è¿›å…¥é¡µé¢ â†’ è°ƒç”¨ GET /wrong-questions â†’ æ¸²æŸ“é”™é¢˜åˆ—è¡¨

æŒæ¡é¢˜ç›® â†’ ç‚¹å‡»ç§»é™¤ â†’ è°ƒç”¨ DELETE /wrong-questions/{questionId} â†’
åˆ·æ–°åˆ—è¡¨

**å†å²è®°å½•é¡µé¢**

è¿›å…¥é¡µé¢ â†’ è°ƒç”¨ GET /records â†’ æ¸²æŸ“åšé¢˜è®°å½•

æŸ¥çœ‹è¯¦æƒ… â†’ ç‚¹å‡»è®°å½• â†’ è°ƒç”¨ GET /{recordId}/analysis â†’ æ˜¾ç¤ºç­”é¢˜è¯¦æƒ…

**ğŸ’¡ ä¸šåŠ¡è§„åˆ™è¯´æ˜**

**é”™é¢˜è‡ªåŠ¨è®°å½•**ï¼šæäº¤ç­”æ¡ˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†ç­”é”™çš„é¢˜ç›®åŠ å…¥é”™é¢˜æœ¬

**æ•™å¸ˆå»ºè®®**ï¼šæ•™å¸ˆå¯ä»¥é€šè¿‡æ•™å¸ˆç«¯ä¸ºå­¦ç”Ÿé”™é¢˜æ·»åŠ æ”¹è¿›å»ºè®®

**æ•°æ®æƒé™**ï¼šæ‰€æœ‰æ¥å£åªèƒ½è®¿é—®å½“å‰å­¦ç”Ÿçš„æ•°æ®ï¼Œåç«¯ä¼šéªŒè¯
usenameåˆ¤æ–­å½“å‰æ˜¯å¦ä¸ºå­¦ç”Ÿè§’è‰²

**AIæ™ºèƒ½å‡ºé¢˜åŠŸèƒ½æ¥å£æ–‡æ¡£**

**ğŸ“‹ åŠŸèƒ½æ¦‚è¿°**

AIæ ¹æ®å­¦ç”Ÿé”™é¢˜æƒ…å†µå’Œå­¦ä¹ è¿›åº¦ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–ç»ƒä¹ é¢˜ï¼Œæ”¯æŒåœ¨å½“å‰ç•Œé¢ç›´æ¥ä½œç­”å’ŒæŸ¥çœ‹è§£æ

**æ¥å£å‰ç¼€ï¼š** /api/student/ai-questions

**è®¤è¯æ–¹å¼ï¼š** JWT Tokenï¼ˆè¯·æ±‚å¤´ Authorization: Bearer \<token\>ï¼‰

**1ï¸âƒ£ è¯·æ±‚AIç”Ÿæˆä¸ªæ€§åŒ–é¢˜ç›®**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  POST /api/student/ai-questions/generate

  --------------------------------------------------------------

**è¯·æ±‚ä½“**

  --------------------------------------------------------------
  JSON\
  {\
  \"count\": 5,\
  \"subject\": \"æ•°å­¦\",\
  \"difficulty\": \"medium\"\
  }

  --------------------------------------------------------------

**å‚æ•°è¯´æ˜**

  ------------ ------------ ------------ ------------------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜                     ç¤ºä¾‹å€¼

  count        int          æ˜¯           ç”Ÿæˆé¢˜ç›®æ•°é‡             5

  subject      string       æ˜¯           ç§‘ç›®                     \"æ•°å­¦\"

  difficulty   string       å¦           éš¾åº¦ï¼šeasy/medium/hard   \"medium\"
  ------------ ------------ ------------ ------------------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"AIé¢˜ç›®ç”ŸæˆæˆåŠŸ\",\
  \"data\": {\
  \"sessionId\": \"ai_sess_123456\",\
  \"generatedCount\": 5,\
  \"questions\": \[\
  {\
  \"questionId\": \"q_ai_001\",\
  \"subject\": \"æ•°å­¦\",\
  \"type\": \"single_choice\",\
  \"difficulty\": \"medium\",\
  \"content\": \"å·²çŸ¥å‡½æ•° f(x) = xÂ² - 4x +
  3ï¼Œæ±‚å‡½æ•°çš„é¡¶ç‚¹åæ ‡\",\
  \"options\": \[\
  {\"key\": \"A\", \"content\": \"(2, -1)\"},\
  {\"key\": \"B\", \"content\": \"(1, 0)\"},\
  {\"key\": \"C\", \"content\": \"(3, 0)\"},\
  {\"key\": \"D\", \"content\": \"(4, 3)\"}\
  \],\
  \"knowledgePoints\": \[\"äºŒæ¬¡å‡½æ•°\", \"é¡¶ç‚¹åæ ‡\"\]\
  }\
  \]\
  }\
  }

  --------------------------------------------------------------

**2ï¸âƒ£ è·å–AIå‡ºé¢˜è®°å½•**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  GET /api/student/ai-questions?subject=æ•°å­¦&page=1&size=10

  --------------------------------------------------------------

**æŸ¥è¯¢å‚æ•°**

  ------------ ------------ ------------ ------------ ------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  subject      string       å¦           ç§‘ç›®ç­›é€‰     \"æ•°å­¦\"

  page         int          å¦           é¡µç          1

  size         int          å¦           æ¯é¡µæ•°é‡     10
  ------------ ------------ ------------ ------------ ------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"total\": 8,\
  \"list\": \[\
  {\
  \"sessionId\": \"ai_sess_123456\",\
  \"subject\": \"æ•°å­¦\",\
  \"questionCount\": 5,\
  \"generatedAt\": \"2025-11-05T23:00:15\",\
  \"completed\": true,\
  \"correctRate\": 80,\
  \"score\": 20\
  },\
  {\
  \"sessionId\": \"ai_sess_123457\",\
  \"subject\": \"ç‰©ç†\",\
  \"questionCount\": 3,\
  \"generatedAt\": \"2025-11-04T22:45:30\",\
  \"completed\": false,\
  \"correctRate\": null,\
  \"score\": null\
  }\
  \],\
  \"pageNum\": 1,\
  \"pageSize\": 10\
  }\
  }

  --------------------------------------------------------------

**3ï¸âƒ£ æäº¤AIé¢˜ç›®ç­”æ¡ˆ**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  POST /api/student/ai-questions/submit

  --------------------------------------------------------------

**è¯·æ±‚ä½“**

  --------------------------------------------------------------
  JSON\
  {\
  \"sessionId\": \"ai_sess_123456\",\
  \"answers\": \[\
  {\
  \"questionId\": \"q_ai_001\",\
  \"userAnswer\": \"A\"\
  },\
  {\
  \"questionId\": \"q_ai_002\",\
  \"userAnswer\": \"A,C\"\
  }\
  \]\
  }

  --------------------------------------------------------------

**å‚æ•°è¯´æ˜**

  ------------ ------------ ------------ -------------- --------------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜           ç¤ºä¾‹å€¼

  sessionId    string       æ˜¯           AIå‡ºé¢˜ä¼šè¯ID   \"ai_sess_123456\"

  answers      array        æ˜¯           ç­”æ¡ˆåˆ—è¡¨       \-

  â”” questionId string       æ˜¯           é¢˜ç›®ID         \"q_ai_001\"

  â”” userAnswer string       æ˜¯           ç”¨æˆ·ç­”æ¡ˆ       \"A\" æˆ– \"A,C\"
  ------------ ------------ ------------ -------------- --------------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"æäº¤æˆåŠŸ\",\
  \"data\": {\
  \"recordId\": \"ai_rec_123456\",\
  \"sessionId\": \"ai_sess_123456\",\
  \"submitTime\": \"2025-11-05T23:10:00\",\
  \"results\": \[\
  {\
  \"questionId\": \"q_ai_001\",\
  \"isCorrect\": true,\
  \"correctAnswer\": \"A\",\
  \"userAnswer\": \"A\",\
  \"score\": 5\
  },\
  {\
  \"questionId\": \"q_ai_002\",\
  \"isCorrect\": false,\
  \"correctAnswer\": \"A,C\",\
  \"userAnswer\": \"A,B\",\
  \"score\": 0\
  }\
  \],\
  \"totalScore\": 5,\
  \"correctCount\": 1,\
  \"totalCount\": 2\
  }\
  }

  --------------------------------------------------------------

**4ï¸âƒ£ è·å–AIé¢˜ç›®è§£æ**

**è¯·æ±‚**

  --------------------------------------------------------------
  Plain Text\
  GET /api/student/ai-questions/{recordId}/analysis

  --------------------------------------------------------------

**è·¯å¾„å‚æ•°**

  ------------ ------------ ------------ ------------ -------------------
  å‚æ•°å       ç±»å‹         å¿…å¡«         è¯´æ˜         ç¤ºä¾‹å€¼

  recordId     string       æ˜¯           ç­”é¢˜è®°å½•ID   \"ai_rec_123456\"
  ------------ ------------ ------------ ------------ -------------------

**æˆåŠŸå“åº” (200)**

  --------------------------------------------------------------
  JSON\
  {\
  \"code\": 200,\
  \"message\": \"success\",\
  \"data\": {\
  \"recordId\": \"ai_rec_123456\",\
  \"sessionId\": \"ai_sess_123456\",\
  \"submitTime\": \"2025-11-05T23:10:00\",\
  \"questions\": \[\
  {\
  \"questionId\": \"q_ai_001\",\
  \"content\": \"å·²çŸ¥å‡½æ•° f(x) = xÂ² - 4x +
  3ï¼Œæ±‚å‡½æ•°çš„é¡¶ç‚¹åæ ‡\",\
  \"options\": \[\
  {\"key\": \"A\", \"content\": \"(2, -1)\"},\
  {\"key\": \"B\", \"content\": \"(1, 0)\"},\
  {\"key\": \"C\", \"content\": \"(3, 0)\"},\
  {\"key\": \"D\", \"content\": \"(4, 3)\"}\
  \],\
  \"userAnswer\": \"A\",\
  \"correctAnswer\": \"A\",\
  \"isCorrect\": true,\
  \"analysis\": \"é€šè¿‡é¡¶ç‚¹å…¬å¼è®¡ç®—ï¼šx = -b/2a = 4/2 = 2ï¼Œy =
  f(2) = 4 - 8 + 3 = -1\",\
  \"knowledgePoints\": \[\"äºŒæ¬¡å‡½æ•°\", \"é¡¶ç‚¹åæ ‡\"\]\
  }\
  \]\
  }\
  }

  --------------------------------------------------------------

**ğŸ”„ å‰ç«¯äº¤äº’æµç¨‹**

**ç”Ÿæˆé¢˜ç›®**

è°ƒç”¨ POST /generate â†’ è·å–é¢˜ç›®åˆ—è¡¨å’ŒsessionId

åœ¨ç•Œé¢å±•ç¤ºé¢˜ç›®ï¼Œç”¨æˆ·ä½œç­”

**æäº¤ç­”æ¡ˆ**

æ”¶é›†ç”¨æˆ·ç­”æ¡ˆ â†’ è°ƒç”¨ POST /submit â†’ æ˜¾ç¤ºç­”é¢˜ç»“æœ

è·å–recordIdç”¨äºæŸ¥çœ‹è§£æ

**æŸ¥çœ‹è§£æ**

ç‚¹å‡»æŸ¥çœ‹è§£æ â†’ è°ƒç”¨ GET /{recordId}/analysis â†’ æ˜¾ç¤ºè¯¦ç»†è§£æ

**æŸ¥çœ‹å†å²**

è¿›å…¥å†å²é¡µé¢ â†’ è°ƒç”¨ GET /ai-questions â†’ æ˜¾ç¤ºAIå‡ºé¢˜è®°å½•

**ğŸ’¡ çŠ¶æ€ç è¯´æ˜**

200ï¼šè¯·æ±‚æˆåŠŸ

400ï¼šè¯·æ±‚å‚æ•°é”™è¯¯

401ï¼šè®¤è¯å¤±è´¥

500ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯
