# EduNexus AI 验收清单与演示脚本

## 1. 文档目标
定义项目“是否完成”的统一标准，以及现场演示的标准流程。

## 2. 验收原则

1. 只验收 `01-PRD-产品需求规格.md` 的 in-scope 需求。
2. 每条需求必须有对应验收用例（TC）。
3. 任何核心链路失败都视为未通过，不以“概念说明”替代结果。

## 3. 全局 Go/No-Go 清单

| 编号 | 检查项 | 通过标准 |
|---|---|---|
| G-01 | 基础依赖启动 | PostgreSQL/Redis/Qdrant/MinIO 全部可连接 |
| G-02 | 认证链路可用 | 注册/登录/退出/鉴权通过 |
| G-03 | 学生主链路可用 | 聊天、做题、错题、AI 出题全通过 |
| G-04 | 教师主链路可用 | 上传知识库、教案、学情、建议全通过 |
| G-05 | 管理主链路可用 | 用户管理、资源管理、看板可用 |
| G-06 | 权限安全 | 越权访问返回 403 |
| G-07 | RAG 可解释 | 聊天回答可展示引用来源 |
| G-08 | 文档一致性 | 实现与 `05/06/07/08` 无冲突 |

## 4. 功能验收用例（核心）

## 4.1 认证（AUTH）

- `TC-AUTH-REG-001`：新用户注册成功。
- `TC-AUTH-REG-002`：重复用户名注册失败。
- `TC-AUTH-LOGIN-001`：正确账号密码可登录。
- `TC-AUTH-LOGOUT-001`：退出后 token 不可访问受保护接口。
- `TC-AUTH-JWT-001`：无 token 访问受保护接口返回 401。

## 4.2 聊天（CHAT）

- `TC-CHAT-NEW-001`：可新建会话并获得 sessionId。
- `TC-CHAT-LIST-001`：会话列表分页正确。
- `TC-CHAT-DETAIL-001`：可读取会话详情与历史消息。
- `TC-CHAT-SEND-001`：发送消息后收到 AI 回复。
- `TC-CHAT-RAG-001`：回复含引用来源并可追溯到知识文档。
- `TC-CHAT-TITLE-001`：首条消息自动生成标题（20 字规则）。
- `TC-CHAT-DEL-001`：删除后列表不可见，数据软删除。
- `TC-CHAT-AUTH-001`：访问他人会话返回 403。

## 4.3 做题与错题（EX）

- `TC-EX-QUERY-001`：题目筛选（学科/难度/分页）正确。
- `TC-EX-SUBMIT-001`：批量提交答案成功。
- `TC-EX-SCORE-001`：判分与总分汇总正确。
- `TC-EX-ANALYSIS-001`：解析页返回逐题解释。
- `TC-EX-WB-AUTO-001`：错误题自动进入错题本。
- `TC-WB-LIST-001`：错题本可按条件查询。
- `TC-WB-DEL-001`：错题移除后状态变为 MASTERED。
- `TC-EX-RECORDS-001`：做题记录可按时间查询。
- `TC-EX-SUGGESTION-001`：解析页可看到教师建议。

## 4.4 AI 出题（AIQ）

- `TC-AIQ-GEN-001`：按参数生成题目成功。
- `TC-AIQ-PARAM-001`：非法参数被拦截。
- `TC-AIQ-SUBMIT-001`：AI 题提交并返回判分。
- `TC-AIQ-ANALYSIS-001`：AI 题解析可读。
- `TC-AIQ-LIST-001`：历史列表可分页。
- `TC-AIQ-METRIC-001`：历史项包含 completed/correctRate/score。
- `TC-AIQ-CTX-001`：生成题与错题画像/建议有关联。

## 4.5 教师（TCH）

- `TC-TCH-UPLOAD-001`：上传 PDF/Docx 成功。
- `TC-TCH-STATUS-001`：状态机流转可见（UPLOADING -> READY）。
- `TC-TCH-DEL-001`：删除文档后向量同步删除。
- `TC-TCH-PLAN-GEN-001`：教案可生成。
- `TC-TCH-PLAN-CRUD-001`：教案可编辑、删除、导出。
- `TC-TCH-PLAN-SHARE-001`：教案可生成分享链接并可访问。
- `TC-TCH-ANA-001`：可查看学生学情指标。
- `TC-TCH-SUG-001`：可创建教师建议。
- `TC-TCH-SUG-LINK-001`：建议在学生端生效。

## 4.6 管理（ADM）

- `TC-ADM-USER-001`：用户增删改查可用。
- `TC-ADM-AUDIT-001`：可查看关键操作日志。
- `TC-ADM-RES-001`：资源列表与下载可用。
- `TC-ADM-DASH-001`：平台看板指标可展示。

## 5. 演示脚本（10-12 分钟）

## 5.1 场景 A：RAG 增强对比（3 分钟）

1. 学生端提问一个未入库知识点问题，展示回答不确定。
2. 切到教师端上传对应文档。
3. 状态到 READY 后切回学生端重复提问。
4. 展示回答命中并带来源引用。

## 5.2 场景 B：做题 -> 错题 -> AI 解析（3 分钟）

1. 学生获取练习题并故意答错。
2. 提交后展示自动判分。
3. 进入错题本确认自动收录。
4. 打开解析页展示分步讲解与教师建议。

## 5.3 场景 C：AI 个性化出题（2 分钟）

1. 学生指定知识点生成 3-5 题。
2. 现场作答并提交。
3. 展示历史记录中的正确率与完成状态。

## 5.4 场景 D：教师与管理能力（2-4 分钟）

1. 教师生成并导出教案。
2. 教师查看学生学情并写建议。
3. 管理端展示用户管理、资源下载和平台看板。

## 6. 演示兜底策略

1. 云模型超时：切换到本地 Ollama 并说明降级策略。
2. 向量检索异常：展示错误提示与重试机制。
3. 单接口异常：切换“已准备数据”流程，继续核心链路展示。

## 7. 通过标准

项目仅在以下条件同时满足时判定“验收通过”：

1. `G-01 ~ G-08` 全部通过。
2. 核心 TC 用例无阻塞失败。
3. 演示脚本 A/B/C 必须完整跑通。

---
文档状态：`v1.0.0`
